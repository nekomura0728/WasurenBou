# わすれん棒 - 要件定義書

## 1. プロダクト概要

### 1.1 プロダクト名
**わすれん棒** - 忘れやすい人専用リマインダーアプリ

### 1.2 コンセプト
> "忘れることは悪いことじゃない。思い出すお手伝いをするだけです。"

忘れやすい人の心理的負担を軽減し、罪悪感を与えずに確実にリマインドするiOSアプリ

### 1.3 ターゲットユーザー
- **1次ターゲット**: 日常的に物忘れが多い人（20-50代）
- **2次ターゲット**: ADHD・発達障害の人
- **3次ターゲット**: 高齢者・その家族
- **4次ターゲット**: 子育て中の親（多忙で忘れがち）

### 1.4 解決する課題
- 既存リマインダーアプリは設定が複雑すぎる
- 通知を見逃すと終わりで、忘れやすい人に不親切
- 忘れた時に罪悪感を与える設計
- 個人の忘れパターンを学習しない

## 2. 機能要件

### 2.1 MVP機能（Phase 1）

#### 2.1.1 超簡単登録システム
- **音声入力**: 自然言語で「2時間後に洗濯物取り込む」
- **ワンタップ候補**: よく使うリマインドをボタン化
- **自動時間推定**: 「明日朝一」→8:00自動設定

#### 2.1.2 しつこい通知システム
- **段階的エスカレーション**: 5分間隔で3回まで通知強化
- **完了まで継続**: スヌーズではなく「あと5分」「あと15分」選択
- （当面）単一デバイス: iPhoneでの通知に限定

#### 2.1.3 優しいコミュニケーション
- **ポジティブメッセージング**: 忘れても「お疲れ様！」
- **成功体験の強調**: 完了時に「素晴らしい！」
- **否定的表現の回避**: 「遅刻」「失敗」等の言葉を使わない

#### 2.1.4 超シンプルUI
- **メイン機能のみ**: 音声入力 + 今日のリマインド一覧
- **色による直感的判断**: 緑(余裕) → 黄(注意) → 赤(緊急)
- **複雑な設定画面なし**: 必要最小限のオプション

### 2.2 拡張機能（Phase 2以降）

#### 2.2.1 パターン学習AI
- 個人の忘れやすい時間帯・曜日・場所の学習
- 忘れパターンに基づく予防的通知
- 通知タイミングの最適化

#### 2.2.2 予測リマインド
- **天気連動**: 「明日雨予報、洗濯物注意」
- **位置連動**: スーパー付近で買い物リスト表示
- **時期予測**: 「牛乳そろそろ切れませんか？」

#### 2.2.3 Apple Watch完全対応（将来）
- 将来検討。現MVPでは対象外

## 3. 非機能要件

### 3.1 ユーザビリティ
- **操作習得時間**: 初回利用から5分以内で基本操作習得
- **音声認識精度**: 95%以上の認識率
- **通知見逃し率**: 3回通知で5%以下

### 3.2 パフォーマンス
- **アプリ起動時間**: 3秒以内
- **音声入力応答時間**: 2秒以内
- **通知遅延**: 設定時刻から30秒以内

### 3.3 互換性
- **iOS**: 16.0以上対応
- **デバイス**: iPhone
- **Siriショートカット**: 完全対応

## 4. システム要件

### 4.1 データ管理
- **ローカルストレージ**: Core Data使用
- **同期**: iCloud同期（複数デバイス）
- **バックアップ**: 自動バックアップ対応

### 4.2 通知システム
- **Local Notification**: 基本通知機能
- **User Notifications Framework**: 段階的通知
- **Background Processing**: バックグラウンド更新

### 4.3 音声処理
- **Speech Framework**: 音声認識
- **Natural Language Framework**: 自然言語処理
- **Siri Integration**: ショートカット連携

## 5. ユーザーエクスペリエンス

### 5.1 基本フロー
```
1. アプリ起動
2. 🎤ボタンで音声入力 OR よく使う候補選択
3. 自動で時間設定提案
4. 確認して登録完了
5. 設定時刻に段階的通知
6. 完了操作で褒めメッセージ
```

### 5.2 画面設計
```
メイン画面:
┌─────────────────────┐
│  🎤 話しかける        │
├─────────────────────┤
│ 14:30 🧺 洗濯物   🟡  │ 
│ 20:00 💊 薬      🟢  │
│ 明日  📞 病院予約  🟢  │
├─────────────────────┤
│ [ よく使う ▼ ]       │
│ 🧺 洗濯物  💊 薬     │
│ 🗑️ ゴミ出し 📞 電話   │
└─────────────────────┘
```

### 5.3 通知設計
```
段階的エスカレーション:
1回目: 🔔 「洗濯物の時間ですよ〜」
  ↓ 5分後
2回目: 🔔🔔 「洗濯物、大丈夫ですか？」
  ↓ 5分後
3回目: 🚨 「洗濯物！！」+ バイブ強
```

## 6. ビジネス要件

### 6.1 収益モデル
- **基本プラン**: 無料（リマインド5個まで）
- **プレミアムプラン**: 月額350円
  - 無制限リマインド
  - AI学習機能
  - Apple Watch完全連携
  - 天気・位置連動

### 6.2 成功指標（KPI）
- **ダウンロード数**: 1万DL（6ヶ月以内）
- **継続利用率**: 30日後70%維持
- **プレミアム転換率**: 15%
- **ユーザー満足度**: App Store 4.5星以上

### 6.3 競合差別化
| 要素 | 既存アプリ | わすれん棒 |
|------|-----------|-----------|
| 設定方法 | 手動詳細設定 | 音声で自然言語 |
| 通知回数 | 1回のみ | 完了まで継続 |
| 失敗時対応 | 「遅れています」 | 「お疲れ様！」 |
| 学習機能 | なし | 忘れパターンAI |

## 7. 技術スタック（MVP）

### 7.1 開発環境
- **IDE**: Xcode
- **言語**: Swift
- **アーキテクチャ**: MVVM + Combine

### 7.2 主要フレームワーク
- **UI**: SwiftUI
- **データ**: Core Data
- **通知**: User Notifications
- **音声**: Speech Framework
- **自然言語**: Natural Language Framework

### 7.3 外部サービス
- **天気情報**: OpenWeatherMap API（Phase 2）
- **音声認識**: iOS標準Speech Framework
- **分析**: Firebase Analytics

## 8. 開発スケジュール

### Phase 1: MVP開発（3-4ヶ月）
- **Month 1**: 基本UI + 音声入力機能
- **Month 2**: 通知システム + データ管理
- **Month 3**: 品質向上 + テスト
- **Month 4**: App Store申請 + ローンチ

### Phase 2: 拡張機能（2-3ヶ月）
- AI学習機能追加
- 天気・位置連動
- プレミアム機能実装

## 9. リスク・課題

### 9.1 技術リスク
- **音声認識精度**: 方言・ノイズ環境での認識率低下
- **通知制限**: iOS通知制限への対応
- **バッテリー消費**: 頻繁通知によるバッテリー影響

### 9.2 ビジネスリスク
- **競合参入**: 大手による類似機能追加
- **ユーザー獲得**: ニッチ市場での認知拡大困難
- **収益化**: フリーミアムモデルの転換率低下

### 9.3 対策
- ベータテストでの継続的改善
- ユーザーフィードバックに基づく機能調整
- SNS・口コミマーケティング重視